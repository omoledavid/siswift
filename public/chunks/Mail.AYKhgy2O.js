import{_ as v,b as m,d as e,e as s,w as h,r as u,o as p,F as y,h as k,t as f,n as I,B as S,C as w}from"../entry/index.wkIW-Yay.js";const F={components:{},data(){return{isLoading:!1,image:null,priorities:[{label:"High",value:"1"},{label:"Medium",value:"2"},{label:"Low",value:"3"}],tickets:[]}},methods:{async onSubmit(t,{resetForm:i}){this.isLoading=!0;const l=new FormData;l.append("attachments[]",this.image),l.append("name",t.name),l.append("email",t.image),l.append("subject",t.subject),l.append("priority",t.priority),l.append("message",t.message),console.log(t,"ommmo"),this.$config.sendTicket(l).then(_=>{console.log(_),i()}).finally(()=>{this.isLoading=!1})},removeImage(){this.image=null},fetchTicketRecords(){this.$config.getTickets().then(t=>{console.log(t)})},onChange(){let t=this.$refs.file.files;this.image=t[0],console.log(this.image,"from:photo Upload")},formattedImageSize(t){return t<1024?`${t.size.toFixed(2)} Bytes`:t.size<1048576?`${(t.size/1024).toFixed(2)} KB`:`${(t.size/1048576).toFixed(2)} MB`}},beforeMount(){this.fetchTicketRecords()}},o=t=>(S("data-v-ff07cd77"),t=t(),w(),t),C=o(()=>e("div",null,null,-1)),j={class:"bg-white p-6 rounded-md lg:w-6/12 md:w-7/12 w-full mx-auto"},z=o(()=>e("div",{class:""},[e("h3",{class:"font-bold mb-6"},"Want to send a mail to us?")],-1)),B={class:"flex flex-col gap-[10px]"},L=o(()=>e("label",{for:""},"Name",-1)),M=o(()=>e("label",{for:""},"Email Address",-1)),q=o(()=>e("label",{for:""},"Subject",-1)),E=o(()=>e("label",{for:""},"Description",-1)),R=o(()=>e("label",{for:""},"Priority",-1)),T=o(()=>e("option",{selected:"",disabled:"",value:""},"--Select Priority--",-1)),D=["value"],N={key:0,class:"flex items-center gap-2"},P={class:"text-gray-400 text-xs block"},U=o(()=>e("label",{for:"fileInput3",class:"file-label"},[e("span",{class:"text-primary-600 text-xs font-medium block"},"Replace")],-1)),V={key:1,for:"fileInput3",class:"file-label"},A=o(()=>e("span",{class:"text-primary text-xs font-medium block"},"Upload Image",-1)),H=[A],K={class:"text-center mt-5"},W=["disabled"];function G(t,i,l,_,a,n){const c=u("vField"),d=u("ErrorMessage"),x=u("vForm");return p(),m("div",null,[C,e("div",j,[z,s(x,{onSubmit:n.onSubmit,class:""},{default:h(({meta:g})=>[e("div",B,[e("div",null,[L,s(c,{name:"name",rules:"required",class:"input",type:"text"}),s(d,{name:"name",class:"text-xs text-error"})]),e("div",null,[M,s(c,{name:"email",rules:"email",class:"input",type:"email"}),s(d,{name:"email",class:"text-xs text-error"})]),e("div",null,[q,s(c,{name:"subject",rules:"required",class:"input",type:"text"}),s(d,{name:"subject",class:"text-xs text-error"})]),e("div",null,[E,s(c,{name:"message",rules:"required",class:"input",as:"textarea",rows:"3"}),s(d,{name:"mesage",class:"text-xs text-error"})]),e("div",null,[R,s(c,{name:"priority",rules:"required",class:"input",as:"select"},{default:h(()=>[T,(p(!0),m(y,null,k(a.priorities,(r,b)=>(p(),m("option",{key:b,value:r.value},f(r.label),9,D))),128))]),_:1}),s(d,{name:"priority",class:"text-xs text-error"})]),e("div",null,[e("div",null,[e("input",{type:"file",name:"file",id:"fileInput3",class:"hidden-input",onChange:i[0]||(i[0]=(...r)=>n.onChange&&n.onChange(...r)),ref:"file",accept:".png,.jpg,.jpeg"},null,544),a.image?(p(),m("div",N,[e("span",P,f(a.image.name)+" ("+f(n.formattedImageSize(a.image))+")",1),U,e("span",{class:"text-red-600 text-xs font-medium block",role:"button",onClick:i[1]||(i[1]=(...r)=>n.removeImage&&n.removeImage(...r))}," Remove ")])):(p(),m("label",V,H))])])]),e("div",K,[e("button",{class:I(["brand-btn w-full",[a.isLoading?"bg-gray1 text-gray":g.valid||a.image?"brand-primary":"bg-gray1 text-black1"]]),disabled:a.isLoading||!g.valid||!!a.image}," Send ",10,W)])]),_:1},8,["onSubmit"])])])}const O=v(F,[["render",G],["__scopeId","data-v-ff07cd77"]]);export{O as default};
