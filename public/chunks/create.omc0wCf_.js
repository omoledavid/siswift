import{_ as b,p as f,q as r,b as x,d as e,e as s,t as v,w as h,r as i,o as y,B as S,n as M}from"../entry/index.R2o0HwGI.js";import{M as w}from"./mainPhoto.J1SPFrwr.js";const I={components:{MainPhoto:w},data(){return{isLoading:!1,currentSchema:f({name:r().required(),address:r().required(),phone:r().required().matches(/^[0-9]+$/,"Must be numeric"),description:r().required()}),mainImage:null}},methods:{createShop(a){const t=new FormData;let c=this.user.seller_id?`/shops/${this.user.shop.id}`:"/shops";this.user.seller_id&&t.append("_method","put"),t.append("name",a.name),t.append("phone",a.phone),t.append("address",a.address),t.append("description",a.description),t.append("image",this.mainImage),this.$config.createStore(t,c).then(p=>(this.$router.push("/app/my-store"),p))},uploadMainImage(a){this.mainImage=a}},watch:{},computed:{user(){return this.$store.getters["auth/getUser"]}}},q={class:"grid lg:grid-cols-3 md:grid-cols-3 gap-4"},E={class:"lg:page-bg md:page-bg h-fit w-full"},F={class:"lg:page-bg md:page-bg lg:col-span-2 md:col-span-2"},N={class:"flex flex-col gap-2"},P=e("label",{for:""},"Shop Name",-1),$={class:"input-field"},k=e("label",{for:""},"Phone Number",-1),B=e("label",{for:""},"Store Description",-1),L=e("label",{for:""},"Address",-1),C={class:"mt-6"},D=["disabled"];function U(a,t,c,p,l,d){const u=i("main-photo"),o=i("vField"),n=i("ErrorMessage"),_=i("vForm");return y(),x("div",q,[e("div",E,[s(u,{onUploadMainImage:d.uploadMainImage,uploadLabel:"Store Photo"},null,8,["onUploadMainImage"])]),e("div",F,[e("div",null,v(d.user),1),e("div",null,[s(_,{class:"flex flex-col",onSubmit:d.createShop,"validation-schema":l.currentSchema,"keep-values":""},{default:h(({meta:m})=>[e("div",N,[e("div",null,[s(o,{name:"name",class:"input"},{default:h(({field:g})=>[P,e("div",$,[e("input",S({type:"text",name:"name",class:"w-full",id:"name",placeholder:"Enter shop name"},g),null,16)])]),_:1}),s(n,{name:"name",class:"text-xs text-error"})]),e("div",null,[k,s(o,{type:"tel",name:"phone",class:"input",placeholder:"Enter Phone Number"}),s(n,{name:"phone",class:"text-xs text-error"})]),e("div",null,[B,s(o,{name:"description",as:"textarea",class:"input",cols:"30",rows:"4"}),s(n,{name:"description",class:"text-xs text-error"})]),e("div",null,[L,s(o,{name:"address",type:"text",class:"input"}),s(n,{name:"address",class:"text-xs text-error"})])]),e("div",C,[e("button",{disabled:l.isLoading||!m.valid,class:M([[l.isLoading?"bg-gray1 text-gray":m.valid?"brand-primary bg-primary":"bg-gray-400 text-black1"],"brand-btn w-full"]),type:"submit"}," Submit ",10,D)])]),_:1},8,["onSubmit","validation-schema"])])])])}const A=b(I,[["render",U]]);export{A as default};
