import{_ as h,b as e,d as t,F as p,h as i,o as c,t as l}from"../entry/index.R2o0HwGI.js";const _={data(){return{items:[],loading:!1,isProductDetails:null}},methods:{getCartItems(){this.loading=!0,this.$user.cartList().then(o=>{console.log("data from products list:",o.data);let r=[];o.data.forEach(a=>{console.log(a);let n={...a.product,cart_id:a.id,offer_price:a.offer_price,quantity:a.quantity,session_id:a.session_id,status:a.status};r.push(n)}),this.items=r}).finally(()=>{this.loading=!1})},removeFromCart(){this.items.forEach(o=>{this.$user.removeFromCart(o.cart_id).then(r=>{console.log(r)})})},showProduct(o){console.log(o),this.$router.push(`/app/product/${o==null?void 0:o.id}`)},openProductDetails(o){this.isProductDetails=this.isProductDetails===o?null:o},checkOut(){let o={type:1,address:this.user.address,payment:1};this.$user.checkOut(o).then(r=>{console.log(r),this.removeFromCart(),this.$router.push("/app/success")})}},beforeMount(){this.getCartItems()},computed:{user(){return this.$store.getters["auth/getUser"]}}},f={class:"lg:page-bg md:page-bg lg:w-6/12 md:w-7/12 w-full mx-auto"},g=t("h4",{class:"font-semibold"},"Checkout",-1),b=t("hr",{class:"my-4"},null,-1),y={class:"flex flex-col gap-5"},k=["src"],x={class:"flex gap-[4px] flex-col"},$={class:"font-semibold block"},v={class:"block text-sm"},C={class:"block"},F={class:"text-right mt-12"};function P(o,r,a,n,u,d){return c(),e("div",f,[g,b,t("div",y,[(c(!0),e(p,null,i(u.items,s=>(c(),e("div",{class:"flex gap-2",key:s==null?void 0:s.id},[t("img",{src:o.imgUrl+"product/"+(s==null?void 0:s.main_image),alt:"",role:"button",class:"h-[80px] w-[60px] object-contain rounded-lg"},null,8,k),t("div",x,[t("span",$,l(s==null?void 0:s.name),1),t("span",v,l(s!=null&&s.offer_price?o.$currencyFormat(s==null?void 0:s.offer_price):o.$currencyFormat(s==null?void 0:s.base_price)),1),t("span",C,"Qty: "+l(s==null?void 0:s.quantity),1)])]))),128))]),t("div",F,[t("button",{onClick:r[0]||(r[0]=(...s)=>d.checkOut&&d.checkOut(...s)),class:"brand-btn brand-primary px-[30px] py-[10px]"}," Make Payment ")])])}const D=h(_,[["render",P]]);export{D as default};
