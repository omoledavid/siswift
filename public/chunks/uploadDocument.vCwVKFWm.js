import{M as u}from"./mainPhoto.D2jeKzOq.js";import{_ as g,b as n,e as l,d as i,f as h,k as _,n as f,A as b,r as d,o as s}from"../entry/index.wkIW-Yay.js";const x={components:{MainPhoto:u},data(){return{mainImage:null,isLoading:!1}},methods:{nextStep(){this.currentStep++},prevStep(){this.currentStep--},getUser(){this.$auth.getProfile().then(e=>{console.log(e.profile),this.$store.commit("auth/setUser",e.profile)})},uploadDocument(){const e=new FormData;let t=this.type==="document"?"id_back":"selfie";e.append(t,this.mainImage),console.log(),this.$auth.uploadDocument(e).then(c=>{console.log(c),this.getUser(),this.$router.push("/app/kyc")})},uploadMainImage(e){this.mainImage=e}},beforeMount(){this.getUser()},computed:{type(){return this.$route.query.type}}},y={class:"lg:page-bg md:page-bg lg:w-6/12 md:w-7/12 w-full mx-auto mt-6"},k={key:0,class:"mt-4"},U={class:"flex items-center gap-2 text-[14px]"},D={class:"text-center mt-6"},I=["disabled"],M={key:1};function L(e,t,c,v,o,a){const p=d("main-photo"),r=d("i-icon");return s(),n("div",y,[l(p,{onUploadMainImage:a.uploadMainImage,uploadLabel:"Document"},null,8,["onUploadMainImage"]),o.isLoading?(s(),n("div",k,[i("span",U,[l(r,{icon:"eos-icons:bubble-loading"}),h(" Uploading ")])])):_("",!0),i("div",D,[i("button",{onClick:t[0]||(t[0]=(...m)=>a.uploadDocument&&a.uploadDocument(...m)),class:f(["brand-btn w-8/12",[o.isLoading?"bg-gray1 text-gray":"brand-primary"]]),disabled:o.isLoading},[o.isLoading?(s(),b(r,{key:0,icon:"eos-icons:three-dots-loading",class:"text-xl text-gray2"})):(s(),n("span",M," Update "))],10,I)])])}const C=g(x,[["render",L]]);export{C as default};
