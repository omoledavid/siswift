import{_ as v,r as _,o as c,b as i,d as s,F as g,h as w,t as m,e as a,f as M,w as f,G as x,n as D,u as B,E as S,D as V,v as k,x as $,k as A,I as y,A as F,J as N}from"../entry/index.wkIW-Yay.js";const E={data(){return{value2:!1,nots:[{label:"Orders",desc:"Order status, tracking update, dispute progress",status:!1},{label:"Activities",desc:"Activities related to your account and more",status:!0},{label:"Messages",desc:"Notification from interaction with others",status:!0}]}}},U={class:"flex flex-col gap-4"},T={class:"font-medium text-sm"},j={class:"font-semibold text-[16px]"},L={class:"text-sm text-gray-600 block"},R={class:"font-medium text-sm flex gap-2 items-center"};function q(n,o,p,u,e,d){const r=_("el-switch"),t=_("i-icon");return c(),i("div",null,[s("div",U,[(c(!0),i(g,null,w(e.nots,l=>(c(),i("span",{key:l==null?void 0:l.id,class:"block flex justify-between items-center",role:"button"},[s("span",T,[s("span",j,m(l.label),1),s("span",L,m(l.desc),1)]),a(r,{modelValue:l.status,"onUpdate:modelValue":b=>l.status=b,style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#828282"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),s("span",{onClick:o[0]||(o[0]=l=>n.$router.push("/app/setting/upgrade")),class:"mt-20 border border-dashed border-primary block p-2 rounded-md flex justify-between items-center",role:"button"},[s("span",R,[a(t,{icon:"teenyicons:diamond-solid",class:"text-primary"}),M(" Upgrade ")]),a(t,{icon:"prime:angle-right",class:"text-[25px]"})])])}const O=v(E,[["render",q]]),z={components:{},data(){return{typePassword:!0,typePassword2:!0,isLoading:!1,validationErrors:{}}},methods:{async onSubmit(n,{resetForm:o}){this.$auth.changePassword(n).then(p=>(o(),p))}}},G={class:""},W=s("div",{class:""},[s("h3",{class:"lg:text-2xl md:text-2xl text-xl font-bold mb-0"},"Change password"),s("span",{class:"text-[15px] block font-regular text-gray2"},"Fill your info below to change password")],-1),I={class:"flex flex-col gap-4"},J=s("label",{for:""},"Old Password",-1),H={class:"input-field"},K={class:"w-full flex gap-2 items-center"},Q={class:"password-iccon"},X=["type"],Y=s("label",{for:""},"New Password",-1),Z={class:"input-field"},ss={class:"w-full flex gap-2 items-center"},es={class:"password-iccon"},ts=["type"],os=s("label",{for:""},"Confirm Password",-1),ns={class:"input-field"},as={class:"w-full flex gap-2 items-center"},ls={class:"password-iccon"},cs=["type"],is={class:"text-center mt-8"},rs=["disabled"],ds=s("div",{class:"mt-3"},null,-1);function us(n,o,p,u,e,d){const r=_("i-icon"),t=_("vField"),l=_("ErrorMessage"),b=_("vForm");return c(),i("div",G,[W,a(b,{onSubmit:d.onSubmit,class:"mt-8"},{default:f(({meta:C})=>[s("div",I,[s("div",null,[J,a(t,{name:"current_password",rules:"required"},{default:f(({field:h})=>[s("div",H,[s("span",K,[s("span",Q,[a(r,{icon:"solar:lock-bold",class:"form-icon"})]),s("input",x({type:e.typePassword?"password":"text",name:"current_password",class:"w-full",id:"password1",placeholder:"Password"},h),null,16,X)]),s("span",{class:"password-iccon",role:"button",onClick:o[0]||(o[0]=P=>e.typePassword=!e.typePassword)},[a(r,{icon:e.typePassword?"tabler:eye":"gridicons:not-visible",class:"form-icon"},null,8,["icon"])])])]),_:1}),a(l,{name:"current_password",class:"text-xs text-error"})]),s("div",null,[Y,a(t,{name:"password",rules:"required"},{default:f(({field:h})=>[s("div",Z,[s("span",ss,[s("span",es,[a(r,{icon:"solar:lock-bold",class:"form-icon"})]),s("input",x({type:e.typePassword?"password":"text",name:"password",class:"w-full",id:"password2",placeholder:"Password"},h),null,16,ts)]),s("span",{class:"password-iccon",role:"button",onClick:o[1]||(o[1]=P=>e.typePassword=!e.typePassword)},[a(r,{icon:e.typePassword?"tabler:eye":"gridicons:not-visible",class:"form-icon"},null,8,["icon"])])])]),_:1}),a(l,{name:"password",class:"text-xs text-error"})]),s("div",null,[os,a(t,{name:"password_confirmation",rules:"required|confirmed:@password"},{default:f(({field:h})=>[s("div",ns,[s("span",as,[s("span",ls,[a(r,{icon:"solar:lock-bold",class:"form-icon"})]),s("input",x({type:e.typePassword2?"password":"text",name:"password_confirmation",class:"w-full",id:"password3",placeholder:"Confirm Password"},h),null,16,cs)]),s("span",{class:"password-iccon",role:"button",onClick:o[2]||(o[2]=P=>e.typePassword2=!e.typePassword2)},[a(r,{icon:e.typePassword2?"tabler:eye":"gridicons:not-visible",class:"form-icon"},null,8,["icon"])])])]),_:1}),a(l,{name:"password_confirmation",class:"text-xs text-error"})])]),s("div",is,[s("button",{class:D(["brand-btn w-full",[e.isLoading?"bg-gray1 text-gray":C.valid?"brand-primary":"bg-gray1 text-black1"]]),disabled:e.isLoading||!C.valid}," Continue ",10,rs),ds])]),_:1},8,["onSubmit"])])}const ps=v(z,[["render",us]]),_s={data(){return{visible:!1,items:[],banks:[],bank:{},account_number:"",account_name:"",isChecking:!1}},methods:{onSubmit(){const n=new FormData;n.append("bank_name",this.bank.name),n.append("bank_code",this.bank.code),n.append("account_name",this.account_name),n.append("account_number",this.account_number),this.$config.createBank(n).then(()=>{this.visible=!1,this.getMethods()}).finally(()=>{this.bank={},this.account_name="",this.account_number=""})},removeRecord(n){this.$config.removeBank(n.id).then(()=>{this.getMethods()})},fetchBankRecords(){this.$config.listBanks().then(n=>{console.log("Banks:",n.data.data),this.banks=n.data.data})},fetchAccountDetails(){this.isChecking=!0;let n={account_number:this.account_number,bank_code:this.bank.code};this.$config.verifyDetails(n).then(o=>{console.log("Banks Details",o[0].data),this.account_name=o[0].data.account_name}).finally(()=>{this.isChecking=!1})},getMethods(){this.$config.getWithdrawalMethods().then(n=>{console.log(n);let o=n.data,p=[];o.forEach(u=>{let e={id:u.id,bank_name:u.bank_name,bank_code:u.bank_code,account_name:u.account_name,account_number:u.account_number};p.push(e)}),this.items=p})},addBank(){this.visible=!this.visible}},watch:{bank:{handler:B.debounce(function(){console.log(this.bank),this.fetchAccountDetails()},500)},account_number:{handler:B.debounce(function(){console.log(this.bank),this.fetchAccountDetails()},500)}},beforeMount(){this.getMethods(),this.fetchBankRecords()}},bs={class:"flex flex-col gap-4"},ms=["onClick"],hs={class:"rounded-lg grid lg:grid-cols-2 md:grid-cols-2 gap-4"},fs={class:"block text-[11px] uppercase"},gs={class:"font-semibold text-sm block"},ws={class:"text-center mt-4"},vs={class:"flex flex-col gap-4 mb-6"},xs=s("option",{disabled:"",selected:"",value:{}},"--Select Bank--",-1),ks=["value"],ys={key:0,class:"block text-right"},Cs=s("div",{class:"text-center"},[s("button",{type:"submit",class:"brand-btn-md brand-primary w-7/12"},"Submit")],-1);function Ps(n,o,p,u,e,d){const r=_("vDialog");return c(),i("div",null,[s("div",bs,[(c(!0),i(g,null,w(e.items,t=>(c(),i("div",{key:t==null?void 0:t.id,class:"bg-white shadow p-3 rounded-md"},[s("span",{role:"button",class:"text-red-600 text-xs mb-2 font-semibold text-right block",onClick:l=>d.removeRecord(t)},"Delete",8,ms),s("div",hs,[(c(!0),i(g,null,w(t,(l,b)=>(c(),i("span",{key:b},[s("span",fs,m(b.split("_").join(" ")),1),s("span",gs,m(l),1)]))),128))])]))),128))]),s("div",ws,[s("button",{onClick:o[0]||(o[0]=(...t)=>d.addBank&&d.addBank(...t)),class:"brand-btn-md brand-primary"},"Add Bank Details")]),a(r,{visible:e.visible,"onUpdate:visible":o[5]||(o[5]=t=>e.visible=t),modal:"",header:"Add Bank Details",style:{width:"30rem"}},{default:f(()=>[s("form",{onSubmit:o[4]||(o[4]=S((...t)=>d.onSubmit&&d.onSubmit(...t),["prevent"]))},[s("div",vs,[k(s("select",{name:"",id:"",class:"input","onUpdate:modelValue":o[1]||(o[1]=t=>e.bank=t)},[xs,(c(!0),i(g,null,w(e.banks,t=>(c(),i("option",{key:t.id,value:t},m(t.name),9,ks))),128))],512),[[V,e.bank]]),k(s("input",{type:"tel",class:"input","onUpdate:modelValue":o[2]||(o[2]=t=>e.account_number=t),placeholder:"Account Number"},null,512),[[$,e.account_number]]),s("div",null,[e.isChecking?(c(),i("span",ys,"...")):A("",!0),k(s("input",{type:"text",readonly:"",class:"input","onUpdate:modelValue":o[3]||(o[3]=t=>e.account_name=t),placeholder:"Account Name"},null,512),[[$,e.account_name]])])]),Cs],32)]),_:1},8,["visible"])])}const Bs=v(_s,[["render",Ps]]),$s={data(){return{tabs:[{label:"general_settings",component:y(O)},{label:"change_password",component:y(ps)},{label:"withdrawal",component:y(Bs)}],activeTab:0}},methods:{activateMenu(n){this.activeTab=n}}},Ds={class:"border-b border-b-gray-400 w-full flex gap-6 justify-center"},Ms=["onClick"],Ss={class:"lg:page-bg md:page-bg lg:w-6/12 md:w-7/12 w-full mx-auto mt-6"};function Vs(n,o,p,u,e,d){return c(),i("div",null,[s("span",Ds,[(c(!0),i(g,null,w(e.tabs,(r,t)=>(c(),i("span",{key:t,role:"button",class:D(["capitalize text-[14px] text-center",{"border-b text-primary border-b-primary font-semibold":e.activeTab===t}]),onClick:l=>d.activateMenu(t)},m(r.label.split("_").join(" ")),11,Ms))),128))]),s("div",Ss,[(c(),F(N(e.tabs[e.activeTab].component)))])])}const Fs=v($s,[["render",Vs]]);export{Fs as default};
