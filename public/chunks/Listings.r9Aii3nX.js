import{_ as u,r as c,o as r,b as a,d as s,e as p,F as _,h as f,A as g,n as y,t as v}from"../entry/index.wkIW-Yay.js";const $={data(){return{items:[],loading:!1,isProductDetails:null,shop:{}}},methods:{list(){this.loading=!0,this.$user.sellerProducts().then(e=>{console.log("data from products list:",e),this.items=e.data.data}).finally(()=>{this.loading=!1})},showProduct(e){console.log(e),this.$router.push(`/app/product/${e==null?void 0:e.id}`)},openProductDetails(e){this.isProductDetails=this.isProductDetails===e?null:e},getShop(){this.$user.showShop().then(e=>{this.shop=e[0]})}},beforeMount(){this.list(),this.getShop()}},w={class:"flex justify-between items-center"},T=s("h4",{class:"font-semibold text-lg"},"My Listings",-1),x={class:"flex justify-end mb-4 gap-4"};function C(e,o,l,h,t,n){const i=c("wxProductCard");return r(),a("div",null,[s("div",w,[T,s("div",x,[s("button",{class:"brand-btn-md text-sm brand-primary flex gap-1 items-center",onClick:o[0]||(o[0]=m=>e.$router.push("/app/product/new"))}," Create Ad ")])]),s("div",null,[s("div",null,[p(i,{products:t.items,loading:t.loading,iconType:"bx:store",btnText:"Create Product",emptyText:"You have not listed any ad yet ðŸ˜¥",btnUrl:"/app/product/new",onViewProduct:n.showProduct,helperText:"or Create a Store",helperURL:"/app/store/new",hasHelper:!0,onRefresh:n.list},null,8,["products","loading","onViewProduct","onRefresh"])])])])}const P=u($,[["render",C]]),k={props:{currentTab:String},data(){return{activeTab:0,columns:[{field:"order_id",header:"ID"},{field:"seller_amount",header:"Amount"},{field:"quantity",header:"Quantity"},{field:"created_at",header:"Date"},{field:"tableBtn",header:""}],items:[]}},methods:{list(){let e=this.currentTab,o=e==="1"?"pending":e==="2"?"completed":"";this.$orders.getSellerOrders(o).then(l=>{console.log(l),this.items=l.orders.data})},viewRecord(e){console.log(e,"ommmo"),this.$router.push(`/app/order/${e.id}`)}},watch:{currentTab:{handler(e,o){e!=o&&this.list()},immediate:!0}},beforeMount(){this.list()}},S=s("h4",{class:"mb-3 font-semibold"},"Selling Orders",-1);function B(e,o,l,h,t,n){const i=c("wxTable");return r(),a("div",null,[S,p(i,{columns:t.columns,items:t.items,onBtnClick:n.viewRecord},null,8,["columns","items","onBtnClick"])])}const D=u(k,[["render",B]]),q={components:{all:P,Orders:D},data(){return{tabs:[{label:"all_ads"},{label:"selling"},{label:"sold"}],activeTab:0}},methods:{activateMenu(e){console.log(e),this.$router.push({name:"app-listings",query:{tab:e}})}},mounted(){console.log(!this.$route.query.tab),this.$route.query.tab||this.$router.push({name:"app-listings",query:{tab:this.activeTab}})},watch:{"$route.query.tab":{handler(e){e&&(this.activeTab=e)},immediate:!0}}},M={class:"border-b border-b-gray-400 w-full flex gap-4 justify-center"},R=["onClick"],j={class:"mt-6"},L={key:1,class:"lg:page-bg md:page-bg"};function V(e,o,l,h,t,n){const i=c("all"),m=c("orders");return r(),a("div",null,[s("span",M,[(r(!0),a(_,null,f(t.tabs,(b,d)=>(r(),a("span",{key:d,role:"button",class:y(["capitalize w-full text-center",{"border-b text-primary border-b-primary font-semibold":t.activeTab==d}]),onClick:A=>n.activateMenu(d)},v(b.label.split("_").join(" ")),11,R))),128))]),s("div",j,[t.activeTab=="0"?(r(),g(i,{key:0})):(r(),a("div",L,[p(m,{currentTab:t.activeTab},null,8,["currentTab"])]))])])}const z=u(q,[["render",V]]);export{z as default};
